(function(e){function v(k,m,g){k=k.getPlotOffset();if(g.images&&g.images.show)for(var f=g.datapoints.points,e=g.datapoints.pointsize,j=0;j<f.length;j+=e){var l=f[j],a=f[j+1],c=f[j+2],b=f[j+3],d=f[j+4],n=g.xaxis,p=g.yaxis,h;if(l&&!(0>=l.width||0>=l.height))if(a>b&&(h=b,b=a,a=h),c>d&&(h=d,d=c,c=h),"center"==g.images.anchor&&(h=0.5*(b-a)/(l.width-1),a-=h,b+=h,h=0.5*(d-c)/(l.height-1),c-=h,d+=h),!(a==b||c==d||a>=n.max||b<=n.min||c>=p.max||d<=p.min)){var q=0,r=0,s=l.width,t=l.height;a<n.min&&(q+=(s-q)*
(n.min-a)/(b-a),a=n.min);b>n.max&&(s+=(s-q)*(n.max-b)/(b-a),b=n.max);c<p.min&&(t+=(r-t)*(p.min-c)/(d-c),c=p.min);d>p.max&&(r+=(r-t)*(p.max-d)/(d-c),d=p.max);a=n.p2c(a);b=n.p2c(b);c=p.p2c(c);d=p.p2c(d);a>b&&(h=b,b=a,a=h);c>d&&(h=d,d=c,c=h);h=m.globalAlpha;m.globalAlpha*=g.images.alpha;m.drawImage(l,q,r,s-q,t-r,a+k.left,c+k.top,b-a,d-c);m.globalAlpha=h}}}function w(k,e,g,f){e.images.show&&(f.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},
{y:!0,number:!0,required:!0}])}e.plot.image={};e.plot.image.loadDataImages=function(k,m,g){var f=[],u=[],j=m.series.images.show;e.each(k,function(g,a){if(j||a.images.show)a.data&&(a=a.data),e.each(a,function(a,b){"string"==typeof b[0]&&(f.push(b[0]),u.push(b))})});e.plot.image.load(f,function(f){e.each(u,function(a,c){var b=c[0];f[b]&&(c[0]=f[b])});g()})};e.plot.image.load=function(k,m){var g=k.length,f={};0==g&&m({});e.each(k,function(k,j){var l=function(){--g;f[j]=this;0==g&&m(f)};e("<img />").load(l).error(l).attr("src",
j)})};e.plot.plugins.push({init:function(e){e.hooks.processRawData.push(w);e.hooks.drawSeries.push(v)},options:{series:{images:{show:!1,alpha:1,anchor:"corner"}}},name:"image",version:"1.1"})})(jQuery);
