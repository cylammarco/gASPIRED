(function(n){function m(f,b){return b*Math.floor(f/b)}function q(f,b,g,k){if("function"==typeof f.strftime)return f.strftime(b);var c=function(a,c){a=""+a;return 1==a.length?""+(null==c?"0":c)+a:a},r=[],p=!1,a=f.getHours(),h=12>a;null==g&&(g="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==k&&(k="Sun Mon Tue Wed Thu Fri Sat".split(" "));var d;d=12<a?a-12:0==a?12:a;for(var e=0;e<b.length;++e){var j=b.charAt(e);if(p){switch(j){case "a":j=""+k[f.getDay()];break;case "b":j=""+g[f.getMonth()];
break;case "d":j=c(f.getDate());break;case "e":j=c(f.getDate()," ");break;case "h":case "H":j=c(a);break;case "I":j=c(d);break;case "l":j=c(d," ");break;case "m":j=c(f.getMonth()+1);break;case "M":j=c(f.getMinutes());break;case "q":j=""+(Math.floor(f.getMonth()/3)+1);break;case "S":j=c(f.getSeconds());break;case "y":j=c(f.getFullYear()%100);break;case "Y":j=""+f.getFullYear();break;case "p":j=h?"am":"pm";break;case "P":j=h?"AM":"PM";break;case "w":j=""+f.getDay()}r.push(j);p=!1}else"%"==j?p=!0:r.push(j)}return r.join("")}
function t(b){function l(c,b,a,h){c[b]=function(){return a[h].apply(a,arguments)}}var g={date:b};void 0!=b.strftime&&l(g,"strftime",b,"strftime");l(g,"getTime",b,"getTime");l(g,"setTime",b,"setTime");for(var k="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),c=0;c<k.length;c++)l(g,"get"+k[c],b,"getUTC"+k[c]),l(g,"set"+k[c],b,"setUTC"+k[c]);return g}function s(b,l){if("browser"==l.timezone)return new Date(b);if(!l.timezone||"utc"==l.timezone)return t(new Date(b));if("undefined"!=
typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var g=new timezoneJS.Date;g.setTimezone(l.timezone);g.setTime(b);return g}return t(new Date(b))}var b={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,
"month"],[2,"month"]],v=u.concat([[3,"month"],[6,"month"],[1,"year"]]),w=u.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);n.plot.plugins.push({init:function(f){f.hooks.processOptions.push(function(f){n.each(f.getAxes(),function(f,k){var c=k.options;"time"==c.mode&&(k.tickGenerator=function(f){var p=[],a=s(f.min,c),h=0,d=c.tickSize&&"quarter"===c.tickSize[1]||c.minTickSize&&"quarter"===c.minTickSize[1]?w:v;null!=c.minTickSize&&(h="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*b[c.minTickSize[1]]);
for(var e=0;e<d.length-1&&!(f.delta<(d[e][0]*b[d[e][1]]+d[e+1][0]*b[d[e+1][1]])/2&&d[e][0]*b[d[e][1]]>=h);++e);h=d[e][0];d=d[e][1];"year"==d&&(null!=c.minTickSize&&"year"==c.minTickSize[1]?h=Math.floor(c.minTickSize[0]):(e=Math.pow(10,Math.floor(Math.log(f.delta/b.year)/Math.LN10)),h=f.delta/b.year/e,h=(1.5>h?1:3>h?2:7.5>h?5:10)*e),1>h&&(h=1));f.tickSize=c.tickSize||[h,d];e=f.tickSize[0];d=f.tickSize[1];h=e*b[d];"second"==d?a.setSeconds(m(a.getSeconds(),e)):"minute"==d?a.setMinutes(m(a.getMinutes(),
e)):"hour"==d?a.setHours(m(a.getHours(),e)):"month"==d?a.setMonth(m(a.getMonth(),e)):"quarter"==d?a.setMonth(3*m(a.getMonth()/3,e)):"year"==d&&a.setFullYear(m(a.getFullYear(),e));a.setMilliseconds(0);h>=b.minute&&a.setSeconds(0);h>=b.hour&&a.setMinutes(0);h>=b.day&&a.setHours(0);h>=4*b.day&&a.setDate(1);h>=2*b.month&&a.setMonth(m(a.getMonth(),3));h>=2*b.quarter&&a.setMonth(m(a.getMonth(),6));h>=b.year&&a.setMonth(0);var j=0,g=Number.NaN,k;do if(k=g,g=a.getTime(),p.push(g),"month"==d||"quarter"==d)if(1>
e){a.setDate(1);var l=a.getTime();a.setMonth(a.getMonth()+("quarter"==d?3:1));var n=a.getTime();a.setTime(g+j*b.hour+(n-l)*e);j=a.getHours();a.setHours(0)}else a.setMonth(a.getMonth()+e*("quarter"==d?3:1));else"year"==d?a.setFullYear(a.getFullYear()+e):a.setTime(g+h);while(g<f.max&&g!=k);return p},k.tickFormatter=function(f,g){var a=s(f,g.options);if(null!=c.timeformat)return q(a,c.timeformat,c.monthNames,c.dayNames);var h=g.options.tickSize&&"quarter"==g.options.tickSize[1]||g.options.minTickSize&&
"quarter"==g.options.minTickSize[1],d=g.tickSize[0]*b[g.tickSize[1]],e=g.max-g.min,j=c.twelveHourClock?" %p":"",k=c.twelveHourClock?"%I":"%H";return q(a,d<b.minute?k+":%M:%S"+j:d<b.day?e<2*b.day?k+":%M"+j:"%b %d "+k+":%M"+j:d<b.month?"%b %d":h&&d<b.quarter||!h&&d<b.year?e<b.year?"%b":"%b %Y":h&&d<b.year?e<b.year?"Q%q":"Q%q %Y":"%Y",c.monthNames,c.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});n.plot.formatDate=q;n.plot.dateGenerator=
s})(jQuery);
