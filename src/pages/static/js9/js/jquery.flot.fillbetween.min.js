(function(m){m.plot.plugins.push({init:function(m){m.hooks.processDatapoints.push(function(b,f,r){if(null!=f.fillBetween){var j;a:{b=b.getData();var e;for(e=0;e<b.length;++e)if(b[e].id===f.fillBetween){j=b[e];break a}j="number"===typeof f.fillBetween?0>f.fillBetween||f.fillBetween>=b.length?null:b[f.fillBetween]:null}if(j){b=r.pointsize;e=r.points;var l=j.datapoints.pointsize;j=j.datapoints.points;for(var d=[],k,a,n,p,q=f.lines.show,m=2<b&&r.format[2].y,t=q&&f.lines.steps,s=!0,c=0,g=0,h;!(c>=e.length);){h=
d.length;if(null==e[c]){for(a=0;a<b;++a)d.push(e[c+a]);c+=b}else if(g>=j.length){if(!q)for(a=0;a<b;++a)d.push(e[c+a]);c+=b}else if(null==j[g]){for(a=0;a<b;++a)d.push(null);s=!0;g+=l}else{k=e[c];a=e[c+1];f=j[g];n=j[g+1];p=0;if(k===f){for(a=0;a<b;++a)d.push(e[c+a]);p=n;c+=b;g+=l}else if(k>f){if(q&&0<c&&null!=e[c-b]){k=a+(e[c-b+1]-a)*(f-k)/(e[c-b]-k);d.push(f);d.push(k);for(a=2;a<b;++a)d.push(e[c+a]);p=n}g+=l}else{if(s&&q){c+=b;continue}for(a=0;a<b;++a)d.push(e[c+a]);q&&(0<g&&null!=j[g-l])&&(p=n+(j[g-
l+1]-n)*(k-f)/(j[g-l]-f));c+=b}s=!1;h!==d.length&&m&&(d[h+2]=p)}if(t&&h!==d.length&&0<h&&null!==d[h]&&d[h]!==d[h-b]&&d[h+1]!==d[h-b+1]){for(a=0;a<b;++a)d[h+b+a]=d[h+a];d[h+1]=d[h-b+1]}}r.points=d}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})})(jQuery);
