var gaussBlur=function(){function n(g,h,f,k,b){for(var c=0;c<g.length;c++)h[c]=g[c]===g[c]?g[c]:0;for(var c=1/(b+b+1),l=0;l<k;l++){for(var a=l*f,j=a,m=a+b,p=h[a],n=h[a+f-1],e=(b+1)*p,d=0;d<b;d++)e+=h[a+d];for(d=0;d<=b;d++)e+=h[m++]-p,g[a++]=e*c;for(d=b+1;d<f-b;d++)e+=h[m++]-h[j++],g[a++]=e*c;for(d=f-b;d<f;d++)e+=n-h[j++],g[a++]=e*c}c=1/(b+b+1);for(l=0;l<f;l++){j=a=l;m=a+b*f;p=g[a];n=g[a+f*(k-1)];e=(b+1)*p;for(d=0;d<b;d++)e+=g[a+d*f];for(d=0;d<=b;d++)e+=g[m]-p,h[a]=e*c,m+=f,a+=f;for(d=b+1;d<k-b;d++)e+=
g[m]-g[j],h[a]=e*c,j+=f,m+=f,a+=f;for(d=k-b;d<k;d++)e+=n-g[j],h[a]=e*c,j+=f,a+=f}}return function(g,h,f,k,b){var c=Math.sqrt(12*b*b/3+1),c=Math.floor(c);0==c%2&&c--;var l=c+2;b=Math.round((12*b*b-3*c*c-12*c-9)/(-4*c-4));for(var a=[],j=0;3>j;j++)a.push(j<b?c:l);n(g,h,f,k,(a[0]-1)/2);n(h,g,f,k,(a[1]-1)/2);n(g,h,f,k,(a[2]-1)/2)}}();
